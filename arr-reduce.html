<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script>
        const arr = [0, 1, 4, 6, 8, 10]
        const output = arr.reduce((accumulator, curretnValue) => accumulator + curretnValue)
        console.log(output)

        const xyArr = [{
            x: 1,
            y: 0
        }, {
            x: 2,
            y: 5,
        }, {
            x: 3,
            y: 11
        }]

        // x 값만 더하기
        const sum = xyArr.reduce((accumulator, currentValue) => {
            return accumulator + currentValue.x;
        }, 0)

        // xy 객체를 생성한 후 x, y 각각 더하기
        const sum2 = xyArr.reduce((accumulator, currentValue) => {
            accumulator.x += currentValue.x
            accumulator.y += currentValue.y
            return accumulator
        }, {
            x: 0,
            y: 0
        })

        console.log(sum) // 6
        console.log(sum2) // 16

        const flattend = [
            [0, 4],
            ["x", "y"],
            ["zz"]
        ].reduce((acc, v) => {
            return acc.concat(v)
        })
        console.log(flattend)

        const names = ['Alice', 'Bob', 'Tiff', 'Bruce', 'Alice', 'Alice']
        const count = names.reduce((allNames, name) => {
            if (name in allNames) { // in: v 키(key)가 allNames 객체 안에 있는지 확인
                allNames[name] += 1
            } else {
                allNames[name] = 1 // 키가 없으면 생성
            }

            return allNames
        }, {}) // allNames 초기값을 객체로 설정
        console.log(count)

        const people = [{
                name: 'Alice',
                age: 21
            },
            {
                name: 'Max',
                age: 20
            },
            {
                name: 'Jane',
                age: 20
            }
        ]

        function groupBy(people, prop) {
            return people.reduce((acc, v) => {
                const key = v[prop]

                if (!acc[key]) acc[key] = []
                acc[key].push(v)

                return acc
            }, {})
        }
        console.log(groupBy(people, "age"))

        const friends = [{
            name: 'Anna',
            books: ['Bible', 'Harry Potter'],
            age: 21
        }, {
            name: 'Bob',
            books: ['War and peace', 'Romeo and Juliet'],
            age: 26
        }, {
            name: 'Alice',
            books: ['The Lord of the Rings', 'The Shining'],
            age: 18
        }]
        
        const books = friends.reduce((acc, v) => {
            return [...acc, ...v.books] // acc의 모든 원소를 나열하고, v의 books에 있는 모든 원소도 나열
        }, [])
        console.log(books)
        
        const dArr = [1, 2, 1, 6, 2, 2, 3, 5, 4, 5, 3, 4, 4, 7, 4, 4]
        const result = dArr.sort().reduce((acc, v) => {
            const len = acc.length
            // acc 배열의 길이가 0이거나, acc 배열의 마지막 원소가 현재 원소랑 같지 않다면
            if(len === 0 || acc[len - 1] !== v) {
                acc.push(v)
            }
            return acc
        }, [])
        console.log(result)
        
        const result2 = Array.from(new Set(dArr))
        console.log(result2)
    </script>
</body></html>