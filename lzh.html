<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script>
        const msg = "KAKAO"
        const answer = []

        // 사전 작성
        const dict = {}
        for (let i = 1; i <= 26; i++) {
            dict[String.fromCharCode(i + 64)] = i
        }
        let maxIdx = 26

        let idx = 0
        const msgLen = msg.length
        while (idx < msgLen) {
            let currentMaxStr = ""
            for (let j = idx; j < msg.length; j++) {
                const target = msg.substring(idx, j + 1)
                if (dict[target]) { // 사전에 있는 문자열이라면
                    currentMaxStr = target // 일단 바로 정답에 넣지 않고 더 긴 문자열이 있는지 보류
                    console.log("" + idx, target, "대기")
                } else {
                    // 사전에 없는 값이면
                    dict[target] = ++maxIdx // maxIdx를 1 증가 시킨 값을 인덱스로 하여 새로 사전에 추가
                    console.log("" + idx, target, "삽입")
                    break // 사전 추가 이후 더 진행되면 안되므로 현재 for문 중단
                }
            }
            answer.push(dict[currentMaxStr])
            console.log("출력", currentMaxStr)
            idx += currentMaxStr.length // idx를 현재 사전에 있는 최대 길이만큼 증가
        }
        //        for (let i = 0; i < msg.length; i++) {
        //            let currentMaxStr = ""
        //            for (let j = i; j < msg.length; j++) {
        //                const target = msg.substring(i, j + 1)
        //                if (dict[target]) { // 사전에 있는 문자열이라면
        //                    currentMaxStr = target // 일단 바로 정답에 넣지 않고 더 긴 문자열이 있는지 보류
        //                } else {
        //                    // 사전에 없는 값이면
        //                    dict[target] = ++maxIdx // maxIdx를 1 증가 시킨 값을 인덱스로 하여 새로 사전에 추가
        //                    break // 사전 추가 이후 더 진행되면 안되므로 현재 for문 중단
        //                }
        //            }
        //            answer.push(dict[currentMaxStr])
        //        }

        console.log(answer)
    </script>
</body></html>